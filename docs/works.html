<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Works</title>
    <link rel="stylesheet" href="css/works.css" />
</head>
<body>

<h1>My Works</h1>

<!-- FILTER DROPDOWN -->
<div class="filter-bar">
    <label for="filter">Sort by:</label>
    <select id="filter" onchange="applyFilter()">
        <option value="newest">Newest → Oldest</option>
        <option value="oldest">Oldest → Newest</option>
    </select>
</div>

<!-- SCROLLABLE PROJECT LIST -->
<div id="project-list" class="project-list">
    <!-- These items will be sorted automatically -->
    <div class="project-item" data-date="2025-01-12" onclick="openProject('p5')">
        <span>P5.js Sketch</span>
        <span class="date">2025</span>
    </div>

    <div class="project-item" data-date="2024-11-02" onclick="openProject('yt')">
        <span>YouTube Video</span>
        <span class="date">2024</span>
    </div>

    <div class="project-item" data-date="2024-05-19" onclick="openProject('itch')">
        <span>Itch.io Game</span>
        <span class="date">2024</span>
    </div>

    <div class="project-item" data-date="2023-09-01" onclick="openProject('site')">
        <span>Website Project</span>
        <span class="date">2023</span>
    </div>

    <div class="project-item" data-date="2022-12-22" onclick="openProject('other1')">
        <span>Project 5</span>
        <span class="date">2022</span>
    </div>

    <div class="project-item" data-date="2022-03-05" onclick="openProject('other2')">
        <span>Project 6</span>
        <span class="date">2022</span>
    </div>
</div>

<!-- DISPLAY AREA -->
<div id="project-container" class="embed-container">
    <p>Select a project from the left.</p>
</div>

<a href="index.html">Back to Scene</a>

<script>
// ---- IFRAME LOADING ----
function openProject(type) {
    const container = document.getElementById("project-container");

    const embeds = {
        p5: `<iframe src="https://editor.p5js.org/Aoriki/full/NQvpKe2Sn"></iframe>`,
        yt: `<iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ"></iframe>`,
        itch: `<iframe src="https://itch.io/embed-upload/123456"></iframe>`,
        site: `<iframe src="https://example.com"></iframe>`,
        other1: `<p>Project 5 content goes here.</p>`,
        other2: `<p>Project 6 content goes here.</p>`
    };

    container.innerHTML = embeds[type];
}

// ---- CHRONOLOGICAL SORT ----
function applyFilter() {
    const list = document.getElementById("project-list");
    const items = Array.from(list.getElementsByClassName("project-item"));
    const filter = document.getElementById("filter").value;

    items.sort((a, b) => {
        const dateA = new Date(a.dataset.date);
        const dateB = new Date(b.dataset.date);
        return filter === "newest" ? dateB - dateA : dateA - dateB;
    });

    items.forEach(item => list.appendChild(item));
}

// Run filter on load
applyFilter();
</script>

</body>
</html>
