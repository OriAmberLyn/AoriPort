<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Works</title>
    <link rel="stylesheet" href="css/works.css" />
</head>
<body>

<h1>My Works</h1>

<!-- FILTER -->
<div class="filter-bar">
    <label for="filter">Sort by:</label>
    <select id="filter" onchange="applyFilter()">
        <option value="newest">Newest → Oldest</option>
        <option value="oldest">Oldest → Newest</option>
    </select>
</div>

<!-- MAIN LAYOUT -->
<div class="works-layout">

    <!-- LEFT: FILE TABS -->
    <div id="project-list" class="project-list">

        <div class="project-item active" data-date="2025-01-12" onclick="openProject(this,'p5')">
            <img src="img/p5thumb.jpg" class="thumb">
            <div class="info">
                <strong>P5.js Sketch</strong>
                <span class="date">2025</span>
            </div>
        </div>

        <div class="project-item" data-date="2024-11-02" onclick="openProject(this,'quieterrs')">
            <img src="img/quieterrs-thumb.jpg" class="thumb">
            <div class="info">
                <strong>Quiet Errs</strong>
                <span class="date">2024</span>
            </div>
        </div>

        <div class="project-item" data-date="2024-05-19" onclick="openProject(this,'itch')">
            <img src="img/itchthumb.jpg" class="thumb">
            <div class="info">
                <strong>Itch.io Game</strong>
                <span class="date">2024</span>
            </div>
        </div>

        <div class="project-item" data-date="2023-08-01" onclick="openProject(this,'site')">
            <img src="img/sitethumb.jpg" class="thumb">
            <div class="info">
                <strong>Website Project</strong>
                <span class="date">2023</span>
            </div>
        </div>

    </div>

    <!-- RIGHT: CONTENT PANEL -->
    <div id="project-container" class="content-panel">
        <div class="embed-container">
            <iframe src="https://editor.p5js.org/Aoriki/full/NQvpKe2Sn"></iframe>
        </div>
    </div>

</div>

<a href="index.html">← Back to Scene</a>

<script>
// ---------- OPEN PROJECT + ACTIVE TAB ----------
function openProject(tab, id) {
    const container = document.getElementById("project-container");
    const tabs = document.querySelectorAll(".project-item");

    tabs.forEach(t => t.classList.remove("active"));
    tab.classList.add("active");

    if (id === "quieterrs") {
        container.innerHTML = `
            <div class="embed-container">
                <iframe src="https://scratch.mit.edu/projects/1101838389/embed"
                        allowtransparency="true"
                        scrolling="no"
                        allowfullscreen></iframe>
            </div>

            <div class="embed-container">
                <iframe src="https://www.youtube.com/embed/ogaDnvd_2Ug"
                        title="Quiet Errs Gameplay"
                        allowfullscreen></iframe>
            </div>
        `;
        return;
    }

    const embeds = {
        p5: `<div class="embed-container">
                <iframe src="https://editor.p5js.org/Aoriki/full/NQvpKe2Sn"></iframe>
             </div>`,
        itch: `<div class="embed-container">
                <iframe src="https://itch.io/embed-upload/123456"></iframe>
               </div>`,
        site: `<div class="embed-container">
                <iframe src="https://example.com"></iframe>
               </div>`
    };

    container.innerHTML = embeds[id] || "<p>Project not found.</p>";
}

// ---------- SORT ----------
function applyFilter() {
    const list = document.getElementById("project-list");
    const items = Array.from(list.children);
    const order = document.getElementById("filter").value;

    items.sort((a, b) => {
        return order === "newest"
            ? new Date(b.dataset.date) - new Date(a.dataset.date)
            : new Date(a.dataset.date) - new Date(b.dataset.date);
    });

    items.forEach(item => list.appendChild(item));
}

applyFilter();
</script>

</body>
</html>



</body>
</html>
