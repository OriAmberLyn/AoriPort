<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Works</title>
    <link rel="stylesheet" href="css/works.css" />
</head>
<body>

<h1 class="page-title">ARCHIVE // WORKS</h1>

<!-- FOLDER TABS -->
<div class="folder-tabs">
    <button class="folder-tab active" onclick="openTab('interactive')">
        <img src="images/icon-game.png" alt="">
        <span>Interactive</span>
    </button>

    <button class="folder-tab" onclick="openTab('static')">
        <img src="images/icon-image.png" alt="">
        <span>Static</span>
    </button>
</div>

<!-- CONTENT PANEL -->
<div class="folder-panel">

    <!-- FILTER -->
    <div class="filter-bar">
        <label>Sort:</label>
        <select onchange="sortItems(this.value)">
            <option value="newest">Newest → Oldest</option>
            <option value="oldest">Oldest → Newest</option>
        </select>
    </div>

    <!-- INTERACTIVE TAB -->
    <div id="interactive" class="folder-content active">
        <div class="grid">

            <div class="work-item" data-date="2025-01-01">
                <iframe src="https://example.com/game1"></iframe>
            </div>

            <div class="work-item" data-date="2024-10-10">
                <iframe src="https://example.com/game2"></iframe>
            </div>

            <!-- MULTIPLE EMBEDS ARE FINE -->
            <div class="work-item" data-date="2024-06-02">
                <iframe src="https://example.com/game3"></iframe>
            </div>

        </div>
    </div>

    <!-- STATIC TAB -->
    <div id="static" class="folder-content">
        <div class="grid">

            <div class="work-item" data-date="2025-02-12">
                <img src="images/art1.jpg">
            </div>

            <div class="work-item" data-date="2024-08-01">
                <video autoplay muted loop>
                    <source src="videos/anim1.mp4" type="video/mp4">
                </video>
            </div>

        </div>
    </div>

</div>

<script>
function openTab(tabId) {
    document.querySelectorAll('.folder-tab').forEach(tab => tab.classList.remove('active'));
    document.querySelectorAll('.folder-content').forEach(c => c.classList.remove('active'));

    document.querySelector(`[onclick="openTab('${tabId}')"]`).classList.add('active');
    document.getElementById(tabId).classList.add('active');
}

function sortItems(order) {
    document.querySelectorAll('.folder-content.active .grid').forEach(grid => {
        const items = Array.from(grid.children);
        items.sort((a, b) => {
            const d1 = new Date(a.dataset.date);
            const d2 = new Date(b.dataset.date);
            return order === 'newest' ? d2 - d1 : d1 - d2;
        });
        items.forEach(i => grid.appendChild(i));
    });
}
</script>

</body>
</html>
